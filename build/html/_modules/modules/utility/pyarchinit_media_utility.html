<!DOCTYPE html>
<html class="writer-html5" lang="it" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>modules.utility.pyarchinit_media_utility &mdash; pyArchInit 4.0 4 documentazione</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="author" title="A proposito di questi documenti" href="../../../about.html" />
    <link rel="index" title="Indice" href="../../../genindex.html" />
    <link rel="search" title="Cerca" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> pyArchInit 4.0
            <img src="../../../_static/pyarchinit_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Cerca documenti" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Menu di navigazione">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../prerequisities.html">2. Prerequisiti</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../novit%C3%A0.html">3. Novit√†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installazione.html">4. Installazione</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../il_plugin.html">5. Il Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../le_schede.html">6. Le schede</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../funzioni.html">7. Funzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../come_documentare.html">8. Come documentare</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../moduli.html">9. Moduli pyArchInit: Classi e Funzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bibliography.html">10. Bibliografia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lineee_guida.html">11. Linee guida</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Menu navigazione dispositivi mobili" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyArchInit 4.0</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Naviga tra le pagine">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../index.html">Codice del modulo</a> &raquo;</li>
      <li>modules.utility.pyarchinit_media_utility</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Codice sorgente per modules.utility.pyarchinit_media_utility</h1><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">object</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">str</span>
<span class="kn">from</span> <span class="nn">qgis.PyQt.QtWidgets</span> <span class="kn">import</span> <span class="n">QMessageBox</span>
<span class="kn">from</span> <span class="nn">..db.pyarchinit_conn_strings</span> <span class="kn">import</span> <span class="o">*</span>

<div class="viewcode-block" id="Media_utility"><a class="viewcode-back" href="../../../moduli.html#modules.utility.pyarchinit_media_utility.Media_utility">[documenti]</a><span class="k">class</span> <span class="nc">Media_utility</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">        # import the Image module</span>
<span class="sd">        import Image</span>

<span class="sd">        # assign the image path to a variable using a raw string</span>
<span class="sd">        image_path = r&quot;C:\test\snake.png&quot;</span>

<span class="sd">        # open the image</span>
<span class="sd">        image = Image.open(image_path)</span>

<span class="sd">        # resize the image to 150x110</span>
<span class="sd">        width, height = (150, 110)</span>

<span class="sd">        # assign width and height to size variable</span>
<span class="sd">        size = (width, height)</span>

<span class="sd">        # create a new image path for the thumbnail</span>
<span class="sd">        new_image_thumbnail = r&quot;C:\test\snake_small.png&quot;</span>

<span class="sd">        # create the thumbnail using the Image.thumbnail method with the Image.ANTIALIAS filter</span>
<span class="sd">        image.thumbnail(size, Image.ANTIALIAS)</span>

<span class="sd">        # save the new thumbnail image</span>
<span class="sd">        image.save(new_image_thumbnail)</span>

<span class="sd">        #The class uses the Image module from the Python Imaging Library(PIL) to open, resize and save the image, the class uses the method thumbnail to create the thumbnail and it uses the Image.ANTIALIAS filter to smooth the image. The class also uses the method save to save the new thumbnail image.</span>


<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">resample_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">ip</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">ip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infile</span> <span class="o">=</span> <span class="n">i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span> <span class="o">=</span> <span class="n">o</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span> <span class="o">=</span> <span class="n">ts</span>

        <span class="n">size</span> <span class="o">=</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span>
        <span class="n">infile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">_</span><span class="si">%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span><span class="p">)</span>
        <span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Media_utility</span><span class="p">()</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">()</span>
    <span class="n">thumb_path</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">thumb_path</span><span class="p">()</span>
    <span class="n">thumb_path_str</span> <span class="o">=</span> <span class="n">thumb_path</span><span class="p">[</span><span class="s1">&#39;thumb_path&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">thumb_path_str</span><span class="p">)</span>
    

<span class="k">class</span> <span class="nc">Media_utility_resize</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>


    <span class="k">def</span> <span class="nf">resample_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">ip</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">ip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infile</span> <span class="o">=</span> <span class="n">i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span> <span class="o">=</span> <span class="n">o</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span> <span class="o">=</span> <span class="n">ts</span>

        <span class="n">size</span> <span class="o">=</span> <span class="mi">2008</span><span class="p">,</span> <span class="mi">1417</span>
        <span class="n">infile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">_</span><span class="si">%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span><span class="p">)</span>
        <span class="n">im</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">infile</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="n">Image</span><span class="o">.</span><span class="n">ANTIALIAS</span><span class="p">)</span>
        <span class="n">im</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Media_utility_resize</span><span class="p">()</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">()</span>
    <span class="n">thumb_resize</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">thumb_resize</span><span class="p">()</span>
    <span class="n">thumb_resize_str</span> <span class="o">=</span> <span class="n">thumb_resize</span><span class="p">[</span><span class="s1">&#39;thumb_resize&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">thumb_resize_str</span><span class="p">)</span>
    
<span class="k">class</span> <span class="nc">Video_utility</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>


    <span class="k">def</span> <span class="nf">resample_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">ip</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">ip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infile</span> <span class="o">=</span> <span class="n">i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span> <span class="o">=</span> <span class="n">o</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span> <span class="o">=</span> <span class="n">ts</span>

        <span class="c1">#size = 2008, 1417</span>
        <span class="n">infile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">_</span><span class="si">%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">move</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
            

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Video_utility</span><span class="p">()</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">()</span>
    <span class="n">thumb_path</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">thumb_path</span><span class="p">()</span>
    <span class="n">thumb_path_str</span> <span class="o">=</span> <span class="n">thumb_path</span><span class="p">[</span><span class="s1">&#39;thumb_path&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">thumb_path_str</span><span class="p">)</span>   
    
<span class="k">class</span> <span class="nc">Video_utility_resize</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>


    <span class="k">def</span> <span class="nf">resample_images</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mid</span><span class="p">,</span> <span class="n">ip</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">,</span> <span class="n">ts</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span> <span class="o">=</span> <span class="n">mid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_path</span> <span class="o">=</span> <span class="n">ip</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infile</span> <span class="o">=</span> <span class="n">i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span> <span class="o">=</span> <span class="n">o</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span> <span class="o">=</span> <span class="n">ts</span>

        <span class="c1">#size = 2008, 1417</span>
        <span class="n">infile</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_path</span><span class="p">)</span>
        <span class="n">outfile</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s</span><span class="s1">_</span><span class="si">%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outpath</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">),</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infile</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">thumb_suffix</span><span class="p">)</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">infile</span><span class="p">,</span> <span class="n">outfile</span><span class="p">)</span>
            

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">Video_utility_resize</span><span class="p">()</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">()</span>
    <span class="n">thumb_resize</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">thumb_resize</span><span class="p">()</span>
    <span class="n">thumb_resize_str</span> <span class="o">=</span> <span class="n">thumb_resize</span><span class="p">[</span><span class="s1">&#39;thumb_resize&#39;</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">thumb_resize_str</span><span class="p">)</span>   
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, AdArte srl.</p>
  </div>

  Realizzato con <a href="https://www.sphinx-doc.org/">Sphinx</a> e il tema
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    fornito da <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
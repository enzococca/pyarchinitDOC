<!DOCTYPE html>
<html class="writer-html5" lang="it" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>modules.db.pyarchinit_db_manager &mdash; pyArchInit 4.0 4 documentazione</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/style.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/translations.js"></script>
        <script src="../../../_static/design-tabs.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="author" title="A proposito di questi documenti" href="../../../about.html" />
    <link rel="index" title="Indice" href="../../../genindex.html" />
    <link rel="search" title="Cerca" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../index.html" class="icon icon-home"> pyArchInit 4.0
            <img src="../../../_static/pyarchinit_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Cerca documenti" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Menu di navigazione">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">1. About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../prerequisities.html">2. Prerequisiti</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../novit%C3%A0.html">3. Novit√†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installazione.html">4. Installazione</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../il_plugin.html">5. Il Plugin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../le_schede.html">6. Le schede</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../funzioni.html">7. Funzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../come_documentare.html">8. Come documentare</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../moduli.html">9. Moduli pyArchInit: Classi e Funzioni</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../bibliography.html">10. Bibliografia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../lineee_guida.html">11. Linee guida</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Menu navigazione dispositivi mobili" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">pyArchInit 4.0</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Naviga tra le pagine">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Codice del modulo</a></li>
      <li class="breadcrumb-item active">modules.db.pyarchinit_db_manager</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Codice sorgente per modules.db.pyarchinit_db_manager</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/python</span>
<span class="c1"># -*- coding: utf-8 -*-</span>


<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sqlalchemy</span> <span class="k">as</span> <span class="nn">db</span>

<span class="kn">from</span> <span class="nn">sqlalchemy.sql.expression</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.event</span> <span class="kn">import</span> <span class="n">listen</span>
<span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">object</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">range</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">str</span>
<span class="kn">from</span> <span class="nn">builtins</span> <span class="kn">import</span> <span class="nb">zip</span>
<span class="kn">from</span> <span class="nn">sqlalchemy</span> <span class="kn">import</span> <span class="n">and_</span><span class="p">,</span> <span class="n">or_</span><span class="p">,</span> <span class="n">Table</span><span class="p">,</span> <span class="n">select</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">asc</span><span class="p">,</span><span class="n">UniqueConstraint</span>
<span class="kn">from</span> <span class="nn">geoalchemy2</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.engine</span> <span class="kn">import</span> <span class="n">create_engine</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.orm</span> <span class="kn">import</span> <span class="n">sessionmaker</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.sql.schema</span> <span class="kn">import</span> <span class="n">MetaData</span>

<span class="kn">from</span> <span class="nn">modules.utility.pyarchinit_OS_utility</span> <span class="kn">import</span> <span class="n">Pyarchinit_OS_Utility</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects</span> <span class="kn">import</span> <span class="n">postgresql</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.dialects.postgresql</span> <span class="kn">import</span> <span class="n">insert</span>

<span class="kn">from</span> <span class="nn">modules.db.pyarchinit_db_mapper</span> <span class="kn">import</span> <span class="n">US</span><span class="p">,</span> <span class="n">UT</span><span class="p">,</span> <span class="n">SITE</span><span class="p">,</span> <span class="n">PERIODIZZAZIONE</span><span class="p">,</span> \
    <span class="n">STRUTTURA</span><span class="p">,</span> <span class="n">SCHEDAIND</span><span class="p">,</span> <span class="n">INVENTARIO_MATERIALI</span><span class="p">,</span> <span class="n">DETSESSO</span><span class="p">,</span> <span class="n">DOCUMENTAZIONE</span><span class="p">,</span> <span class="n">DETETA</span><span class="p">,</span> <span class="n">MEDIA</span><span class="p">,</span> \
    <span class="n">MEDIA_THUMB</span><span class="p">,</span> <span class="n">MEDIATOENTITY</span><span class="p">,</span> <span class="n">MEDIAVIEW</span><span class="p">,</span> <span class="n">TOMBA</span><span class="p">,</span> <span class="n">CAMPIONI</span><span class="p">,</span> <span class="n">PYARCHINIT_THESAURUS_SIGLE</span><span class="p">,</span> \
    <span class="n">ARCHEOZOOLOGY</span><span class="p">,</span> <span class="n">INVENTARIO_LAPIDEI</span><span class="p">,</span> <span class="n">PDF_ADMINISTRATOR</span><span class="p">,</span><span class="n">PYUS</span> <span class="p">,</span><span class="n">PYUSM</span><span class="p">,</span><span class="n">PYSITO_POINT</span><span class="p">,</span><span class="n">PYSITO_POLYGON</span><span class="p">,</span><span class="n">PYQUOTE</span><span class="p">,</span><span class="n">PYQUOTEUSM</span><span class="p">,</span> \
    <span class="n">PYUS_NEGATIVE</span><span class="p">,</span> <span class="n">PYSTRUTTURE</span><span class="p">,</span> <span class="n">PYREPERTI</span><span class="p">,</span> <span class="n">PYINDIVIDUI</span><span class="p">,</span> <span class="n">PYCAMPIONI</span><span class="p">,</span> <span class="n">PYTOMBA</span><span class="p">,</span> <span class="n">PYDOCUMENTAZIONE</span><span class="p">,</span> <span class="n">PYLINEERIFERIMENTO</span><span class="p">,</span> \
    <span class="n">PYRIPARTIZIONI_SPAZIALI</span><span class="p">,</span> <span class="n">PYSEZIONI</span>
<span class="kn">from</span> <span class="nn">modules.db.pyarchinit_db_update</span> <span class="kn">import</span> <span class="n">DB_update</span>
<span class="kn">from</span> <span class="nn">modules.db.pyarchinit_utility</span> <span class="kn">import</span> <span class="n">Utility</span>
<span class="kn">from</span> <span class="nn">sqlalchemy.ext.compiler</span> <span class="kn">import</span> <span class="n">compiles</span>

<span class="kn">from</span> <span class="nn">modules.db.pyarchinit_conn_strings</span> <span class="kn">import</span> <span class="n">Connection</span>

        

<div class="viewcode-block" id="Pyarchinit_db_management"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management">[documenti]</a><span class="k">class</span> <span class="nc">Pyarchinit_db_management</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">metadata</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">engine</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="n">boolean</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    
    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;posix&#39;</span><span class="p">:</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="s1">&#39;True&#39;</span>
    <span class="k">elif</span> <span class="n">os</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="s1">&#39;nt&#39;</span><span class="p">:</span>
        <span class="n">boolean</span> <span class="o">=</span> <span class="s1">&#39;True&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conn_str</span> <span class="o">=</span> <span class="n">c</span>
        
    
    <span class="k">def</span> <span class="nf">load_spatialite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">dbapi_conn</span><span class="p">,</span> <span class="n">connection_record</span><span class="p">):</span>
        <span class="n">dbapi_conn</span><span class="o">.</span><span class="n">enable_load_extension</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">Pyarchinit_OS_Utility</span><span class="o">.</span><span class="n">isWindows</span><span class="p">()</span><span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">dbapi_conn</span><span class="o">.</span><span class="n">load_extension</span><span class="p">(</span><span class="s1">&#39;mod_spatialite.dll&#39;</span><span class="p">)</span>
        
        <span class="k">elif</span> <span class="n">Pyarchinit_OS_Utility</span><span class="o">.</span><span class="n">isMac</span><span class="p">()</span><span class="o">==</span> <span class="kc">True</span><span class="p">:</span>
            <span class="n">dbapi_conn</span><span class="o">.</span><span class="n">load_extension</span><span class="p">(</span><span class="s1">&#39;mod_spatialite.so&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">dbapi_conn</span><span class="o">.</span><span class="n">load_extension</span><span class="p">(</span><span class="s1">&#39;mod_spatialite.so&#39;</span><span class="p">)</span>  
    <span class="k">def</span> <span class="nf">connection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">test</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">test_conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">conn_str</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s2">&quot;sqlite&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">test_conn</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conn_str</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">boolean</span><span class="p">))</span>
                <span class="n">listen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="s1">&#39;connect&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">load_spatialite</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">create_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conn_str</span><span class="p">,</span> <span class="n">max_overflow</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">echo</span><span class="o">=</span><span class="nb">eval</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">boolean</span><span class="p">))</span>
            
                
            <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span> <span class="o">=</span> <span class="n">MetaData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
            <span class="n">conn</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
            
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Message&quot;</span><span class="p">,</span> <span class="s2">&quot;Error: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="n">test</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="n">db_upd</span> <span class="o">=</span> <span class="n">DB_update</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conn_str</span><span class="p">)</span>
            <span class="n">db_upd</span><span class="o">.</span><span class="n">update_table</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;Message&quot;</span><span class="p">,</span> <span class="s2">&quot;Error: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span> <span class="n">QMessageBox</span><span class="o">.</span><span class="n">Ok</span><span class="p">)</span>
            <span class="n">test</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="k">return</span> <span class="n">test</span>

        <span class="c1"># insert statement</span>
    <span class="k">def</span> <span class="nf">insert_pyus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyus</span> <span class="o">=</span> <span class="n">PYUS</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyus</span>
    <span class="k">def</span> <span class="nf">insert_pyusm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyusm</span> <span class="o">=</span> <span class="n">PYUSM</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyusm</span>
    <span class="k">def</span> <span class="nf">insert_pysito_point</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pysito_point</span> <span class="o">=</span> <span class="n">PYSITO_POINT</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pysito_point</span>
    
    
    <span class="k">def</span> <span class="nf">insert_pysito_polygon</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pysito_polygon</span> <span class="o">=</span> <span class="n">PYSITO_POLYGON</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pysito_polygon</span>
        
    <span class="k">def</span> <span class="nf">insert_pyquote</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyquote</span> <span class="o">=</span> <span class="n">PYQUOTE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyquote</span>    
    <span class="k">def</span> <span class="nf">insert_pyquote_usm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyquote_usm</span> <span class="o">=</span> <span class="n">PYQUOTEUSM</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyquote_usm</span>    
    <span class="k">def</span> <span class="nf">insert_pyus_negative</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyus_negative</span> <span class="o">=</span> <span class="n">PYUS_NEGATIVE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyus_negative</span>
    
    <span class="k">def</span> <span class="nf">insert_pystrutture</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pystrutture</span> <span class="o">=</span> <span class="n">PYSTRUTTURE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pystrutture</span>
    
    <span class="k">def</span> <span class="nf">insert_pyreperti</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyreperti</span> <span class="o">=</span> <span class="n">PYREPERTI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyreperti</span>
    
    <span class="k">def</span> <span class="nf">insert_pyindividui</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyindividui</span> <span class="o">=</span> <span class="n">PYINDIVIDUI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyindividui</span>
    
    <span class="k">def</span> <span class="nf">insert_pycampioni</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pycampioni</span> <span class="o">=</span> <span class="n">PYCAMPIONI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pycampioni</span>
    
    <span class="k">def</span> <span class="nf">insert_pytomba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pytomba</span> <span class="o">=</span> <span class="n">PYTOMBA</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pytomba</span>
    
    <span class="k">def</span> <span class="nf">insert_pydocumentazione</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pydocumentazione</span> <span class="o">=</span> <span class="n">PYDOCUMENTAZIONE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pydocumentazione</span>
    
    <span class="k">def</span> <span class="nf">insert_pylineeriferimento</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pylineeriferimento</span> <span class="o">=</span> <span class="n">PYLINEERIFERIMENTO</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pylineeriferimento</span>
    
    <span class="k">def</span> <span class="nf">insert_pyripartizioni_spaziali</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pyripartizioni_spaziali</span> <span class="o">=</span> <span class="n">PYRIPARTIZIONI_SPAZIALI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pyripartizioni_spaziali</span>
    
    <span class="k">def</span> <span class="nf">insert_pysezioni</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="n">pysezioni</span> <span class="o">=</span> <span class="n">PYSEZIONI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>
        <span class="k">return</span> <span class="n">pysezioni</span>
    
    
    
<div class="viewcode-block" id="Pyarchinit_db_management.insert_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe US da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">us</span> <span class="o">=</span> <span class="n">US</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">35</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">36</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">39</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">40</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">41</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">42</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">43</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">44</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">45</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">46</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">47</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">48</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">49</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">51</span><span class="p">],</span>    <span class="c1"># 51 campi aggiunti per archeo 3.0 e allineamento ICCD</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">52</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">53</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">54</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">55</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">56</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">57</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">58</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">59</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">60</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">61</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">62</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">63</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">64</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">65</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">66</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">67</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">68</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">69</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">70</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">71</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">72</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">73</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">74</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">75</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">76</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">77</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">78</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">79</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">80</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">81</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">82</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">83</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">84</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">85</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">86</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">87</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">88</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">89</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">90</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">91</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">92</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">93</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">94</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">95</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">96</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">97</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">98</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">99</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">100</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">101</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">102</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">103</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">104</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">105</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">106</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">107</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">108</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">109</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">110</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">111</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">112</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">113</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">114</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">115</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">116</span><span class="p">],</span>
                <span class="p">)</span>

        <span class="k">return</span> <span class="n">us</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_ut_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_ut_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_ut_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe UT da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">ut</span> <span class="o">=</span> <span class="n">UT</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">35</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">36</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">39</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">40</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">41</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">ut</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_site_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_site_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_site_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe SITE da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">sito</span> <span class="o">=</span> <span class="n">SITE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                    <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">sito</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_periodizzazione_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_periodizzazione_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_periodizzazione_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe Periodizzazione da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">periodizzazione</span> <span class="o">=</span> <span class="n">PERIODIZZAZIONE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                                          <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">periodizzazione</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_reperti"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_reperti">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_reperti</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe Reperti da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">inventario_materiali</span> <span class="o">=</span> <span class="n">INVENTARIO_MATERIALI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span>
                                                    <span class="n">arg</span><span class="p">[</span><span class="mi">31</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">inventario_materiali</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_struttura_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_struttura_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_struttura_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe Struttura da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">struttura</span> <span class="o">=</span> <span class="n">STRUTTURA</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">struttura</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_ind"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_ind">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_ind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe SCHEDAIND da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">schedaind</span> <span class="o">=</span> <span class="n">SCHEDAIND</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">schedaind</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_detsesso"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_detsesso">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_detsesso</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe DETSESSO da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">detsesso</span> <span class="o">=</span> <span class="n">DETSESSO</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">35</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">36</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">39</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">40</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">41</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">42</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">43</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">44</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">45</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">46</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">47</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">48</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">49</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">51</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">52</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">53</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">detsesso</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_deteta"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_deteta">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_deteta</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe DETETA da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">deteta</span> <span class="o">=</span> <span class="n">DETETA</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">31</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">33</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">34</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">35</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">36</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">37</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">38</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">39</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">40</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">41</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">42</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">43</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">44</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">45</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">46</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">47</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">48</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">49</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">50</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">51</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">52</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">53</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">54</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">55</span><span class="p">],</span>
                        <span class="n">arg</span><span class="p">[</span><span class="mi">56</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">deteta</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_media_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_media_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_media_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe MEDIA da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">media</span> <span class="o">=</span> <span class="n">MEDIA</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                      <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">media</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_mediathumb_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_mediathumb_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_mediathumb_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe MEDIA da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">media_thumb</span> <span class="o">=</span> <span class="n">MEDIA_THUMB</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                  <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">media_thumb</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_media2entity_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_media2entity_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_media2entity_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe MEDIATOENTITY da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">mediatoentity</span> <span class="o">=</span> <span class="n">MEDIATOENTITY</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                      <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">mediatoentity</span></div>

    
<div class="viewcode-block" id="Pyarchinit_db_management.insert_media2entity_view_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_media2entity_view_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_media2entity_view_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe MEDIATOENTITY da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">mediaentity_view</span><span class="o">=</span> <span class="n">MEDIAVIEW</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">mediaentity_view</span> </div>
    
<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_tomba"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_tomba">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_tomba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe TOMBA da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">tomba</span> <span class="o">=</span> <span class="n">TOMBA</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                              <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],)</span>

        <span class="k">return</span> <span class="n">tomba</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_campioni"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_campioni">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_campioni</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe CAMPIONI da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">campioni</span> <span class="o">=</span> <span class="n">CAMPIONI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">campioni</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_thesaurus"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_thesaurus">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_thesaurus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe PYARCHINIT_THESAURUS_SIGLE da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">thesaurus</span> <span class="o">=</span> <span class="n">PYARCHINIT_THESAURUS_SIGLE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                               <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">thesaurus</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_archeozoology"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_archeozoology">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_archeozoology</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe ARCHEOZOOLOGY da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">archeozoology</span> <span class="o">=</span> <span class="n">ARCHEOZOOLOGY</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">20</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">21</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">22</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">23</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">24</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">25</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">26</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">27</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">28</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">29</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">30</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">archeozoology</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_Lapidei"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_Lapidei">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_Lapidei</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe Inventario_Lapidei da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">inventario_lapidei</span> <span class="o">=</span> <span class="n">INVENTARIO_LAPIDEI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">11</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">14</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">15</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">16</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">17</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">18</span><span class="p">],</span>
                                                <span class="n">arg</span><span class="p">[</span><span class="mi">19</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">inventario_lapidei</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_values_documentazione"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_values_documentazione">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_values_documentazione</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe DOCUMENTAZIONE da pyarchinit_db_mapper&quot;&quot;&quot;</span>

        <span class="n">documentazione</span> <span class="o">=</span> <span class="n">DOCUMENTAZIONE</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                                        <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">documentazione</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_pdf_administrator_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_pdf_administrator_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_pdf_administrator_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe PDF_ADMINISTRATOR da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">pdf_administrator</span> <span class="o">=</span> <span class="n">PDF_ADMINISTRATOR</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                                              <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                                              <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                                              <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                                              <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">pdf_administrator</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.insert_campioni_values"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.insert_campioni_values">[documenti]</a>    <span class="k">def</span> <span class="nf">insert_campioni_values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">arg</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Istanzia la classe CAMPIONI da pyarchinit_db_mapper&quot;&quot;&quot;</span>
        <span class="n">campioni</span> <span class="o">=</span> <span class="n">CAMPIONI</span><span class="p">(</span><span class="n">arg</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">7</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span>
                            <span class="n">arg</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">campioni</span></div>

    <span class="c1">##  def insert_relationship_check_values(self, *arg):</span>
    <span class="c1">##      &quot;&quot;&quot;Istanzia la classe RELATIONSHIP_CHECK da pyarchinit_db_mapper&quot;&quot;&quot;</span>
    <span class="c1">##      relationship_check = RELATIONSHIP_CHECK(arg[0],</span>
    <span class="c1">##                                              arg[1],</span>
    <span class="c1">##                                              arg[2],</span>
    <span class="c1">##                                              arg[3],</span>
    <span class="c1">##                                              arg[4],</span>
    <span class="c1">##                                              arg[5],</span>
    <span class="c1">##                                              arg[6],</span>
    <span class="c1">##                                              arg[7],</span>
    <span class="c1">##                                              arg[8],</span>
    <span class="c1">##                                              arg[9])</span>
    <span class="c1">##</span>
    <span class="c1">##      return relationship_check</span>


    <span class="k">def</span> <span class="nf">execute_sql_create_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s1">&#39;query_sql&#39;</span><span class="p">,</span> <span class="s1">&#39;pyarchinit_create_db.sql&#39;</span><span class="p">)</span>
        <span class="n">qyery_sql_path</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
        <span class="n">create</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qyery_sql_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">stringa</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">create</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">raw_connection</span><span class="p">()</span><span class="o">.</span><span class="n">set_isolation_level</span><span class="p">(</span><span class="n">psycopg2</span><span class="o">.</span><span class="n">extensions</span><span class="o">.</span><span class="n">ISOLATION_LEVEL_AUTOCOMMIT</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">stringa</span><span class="p">)</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">execute_sql_create_spatialite_db</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s1">&#39;query_sql&#39;</span><span class="p">,</span> <span class="s1">&#39;pyarchinit_create_spatialite_db.sql&#39;</span><span class="p">)</span>
        <span class="n">qyery_sql_path</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
        <span class="n">create</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qyery_sql_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">stringa</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">create</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stringa</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">execute_sql_create_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
        <span class="n">rel_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">sep</span><span class="p">,</span> <span class="s1">&#39;query_sql&#39;</span><span class="p">,</span> <span class="s1">&#39;pyarchinit_layers_postgis.sql&#39;</span><span class="p">)</span>
        <span class="n">qyery_sql_path</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{}{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">rel_path</span><span class="p">)</span>
        <span class="n">create</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">qyery_sql_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span>
        <span class="n">stringa</span> <span class="o">=</span> <span class="n">create</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">create</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stringa</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="c1"># query statement</span>

    <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
        <span class="c1"># engine = self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">query</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">class_name</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">query</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">query_bool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">()</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">remove_empty_items_fr_dict</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

        <span class="n">list_keys_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

        <span class="n">field_value_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">for</span> <span class="n">sing_couple_n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">sing_couple_n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">!=</span> <span class="s2">&quot;&lt;type &#39;str&#39;&gt;&quot;</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == u</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="s2">&quot;&lt;type &#39;str&#39;&gt;&quot;</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

                    <span class="c1">#field_value_string = &quot;, &quot;.join([table + &quot;.%s == u%s&quot; % (k, v) for k, v in params.items()])</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Per poter utilizzare l&#39;operatore LIKE √® necessario fare una iterazione attraverso il dizionario per discriminare tra</span>
<span class="sd">        stringhe e numeri</span>
<span class="sd">        #field_value_string = &quot;, &quot;.join([table + &quot;.%s.like(%s)&quot; % (k, v) for k, v in params.items()])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">query_str</span> <span class="o">=</span> <span class="s2">&quot;session.query(&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;).filter(and_(&quot;</span> <span class="o">+</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;)).all()&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">query_str</span><span class="p">)</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        t = open(&quot;/test_import.txt&quot;, &quot;w&quot;)</span>
<span class="sd">        t.write(str(query_str))</span>
<span class="sd">        t.close()</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">res</span>
    
    
    
    <span class="k">def</span> <span class="nf">query_bool_special</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">()</span>
        <span class="n">params</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">remove_empty_items_fr_dict</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>

        <span class="n">list_keys_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>

        <span class="n">field_value_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

        <span class="k">for</span> <span class="n">sing_couple_n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">sing_couple_n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">!=</span> <span class="s2">&quot;&lt;type &#39;str&#39;&gt;&quot;</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == u</span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="s2">&quot;&lt;type &#39;str&#39;&gt;&quot;</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;.</span><span class="si">%s</span><span class="s2"> == </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span>
                    <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">list_keys_values</span><span class="p">[</span><span class="n">sing_couple_n</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span>

                    <span class="c1"># field_value_string = &quot;, &quot;.join([table + &quot;.%s == u%s&quot; % (k, v) for k, v in params.items()])</span>

        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Per poter utilizzare l&#39;operatore LIKE √® necessario fare una iterazione attraverso il dizionario per discriminare tra</span>
<span class="sd">        stringhe e numeri</span>
<span class="sd">        #field_value_string = &quot;, &quot;.join([table + &quot;.%s.like(%s)&quot; % (k, v) for k, v in params.items()])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">query_str</span> <span class="o">=</span> <span class="s2">&quot;session.query(&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;).filter(and_(&quot;</span> <span class="o">+</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;)).all()&quot;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">query_str</span><span class="p">)</span>

        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        t = open(&quot;/test_import.txt&quot;, &quot;w&quot;)</span>
<span class="sd">        t.write(str(query_str))</span>
<span class="sd">        t.close()</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="k">def</span> <span class="nf">query_operator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">params</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">()</span>
        <span class="c1">#params = u.remove_empty_items_fr_dict(params)</span>
        <span class="n">field_value_string</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">field_value_string</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">field_value_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">field_value_string</span> <span class="o">=</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s1">&#39;, </span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

        <span class="n">query_str</span> <span class="o">=</span> <span class="s2">&quot;session.query(&quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s2">&quot;).filter(and_(&quot;</span> <span class="o">+</span> <span class="n">field_value_string</span> <span class="o">+</span> <span class="s2">&quot;)).all()&quot;</span>

        <span class="c1"># self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="n">query_str</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">query_distinct</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">query_params</span><span class="p">,</span> <span class="n">distinct_field_name_params</span><span class="p">):</span>
        <span class="c1"># u = Utility()</span>
        <span class="c1"># params = u.remove_empty_items_fr_dict(params)</span>
        <span class="c1">##      return session.query(INVENTARIO_MATERIALI.area,INVENTARIO_MATERIALI.us ).filter(INVENTARIO_MATERIALI.sito==&#39;Sito archeologico&#39;).distinct().order_by(INVENTARIO_MATERIALI.area,INVENTARIO_MATERIALI.us )</span>

        <span class="n">query_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">query_string</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">query_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">==</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">query_string</span> <span class="o">=</span> <span class="n">query_string</span> <span class="o">+</span> <span class="s1">&#39;,</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">==</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="n">distinct_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">distinct_field_name_params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">distinct_string</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">distinct_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">distinct_string</span> <span class="o">=</span> <span class="n">distinct_string</span> <span class="o">+</span> <span class="s1">&#39;,</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>

        <span class="n">query_cmd</span> <span class="o">=</span> <span class="s2">&quot;session.query(&quot;</span> <span class="o">+</span> <span class="n">distinct_string</span> <span class="o">+</span> <span class="s2">&quot;).filter(and_(&quot;</span> <span class="o">+</span> <span class="n">query_string</span> <span class="o">+</span> <span class="s2">&quot;)).distinct().order_by(&quot;</span> <span class="o">+</span> <span class="n">distinct_string</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>
        <span class="c1"># self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="nb">eval</span><span class="p">(</span><span class="n">query_cmd</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">query_distinct_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">,</span> <span class="n">query_params</span><span class="p">,</span> <span class="n">distinct_field_name_params</span><span class="p">):</span>
        <span class="c1"># u = Utility()</span>
        <span class="c1"># params = u.remove_empty_items_fr_dict(params)</span>
        <span class="c1">##      return session.query(INVENTARIO_MATERIALI.area,INVENTARIO_MATERIALI.us ).filter(INVENTARIO_MATERIALI.sito==&#39;Sito archeologico&#39;).distinct().order_by(INVENTARIO_MATERIALI.area,INVENTARIO_MATERIALI.us )</span>

        <span class="n">query_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">query_params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">query_string</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">query_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">query_string</span> <span class="o">=</span> <span class="n">query_string</span> <span class="o">+</span> <span class="s1">&#39; AND </span><span class="si">%s</span><span class="s1">=</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>

        <span class="n">distinct_string</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">distinct_field_name_params</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">distinct_string</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
                <span class="n">distinct_string</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">distinct_string</span> <span class="o">=</span> <span class="n">distinct_string</span> <span class="o">+</span> <span class="s1">&#39;,</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span>

        <span class="n">query_cmd</span> <span class="o">=</span> <span class="s2">&quot;SELECT DISTINCT &quot;</span> <span class="o">+</span> <span class="n">distinct_string</span> <span class="o">+</span> <span class="s2">&quot; FROM &quot;</span> <span class="o">+</span> <span class="n">table</span> <span class="o">+</span> <span class="s1">&#39; WHERE &#39;</span> <span class="o">+</span> <span class="n">query_string</span>
        <span class="c1"># self.connection()</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">query_cmd</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="c1"># count distinct &quot;name&quot; values</span>

    <span class="c1"># session statement</span>
    <span class="k">def</span> <span class="nf">insert_data_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">insert_data_conflict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">begin_nested</span><span class="p">()</span>
        <span class="n">session</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
       
        <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
        
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<div class="viewcode-block" id="Pyarchinit_db_management.update"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.update">[documenti]</a>    <span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_class_str</span><span class="p">,</span> <span class="n">id_table_str</span><span class="p">,</span> <span class="n">value_id_list</span><span class="p">,</span> <span class="n">columns_name_list</span><span class="p">,</span> <span class="n">values_update_list</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Receives 5 values then putted in a list.</span>
<span class="sd">        self.set_update = arg</span>
<span class="sd">        table = Table(self.set_update[0], self.metadata, autoload=True)</span>
<span class="sd">        changes_dict= {}</span>
<span class="sd">        u = Utility()</span>
<span class="sd">        set_update_4 = u.deunicode_list(self.set_update[4])</span>
<span class="sd">        u.add_item_to_dict(changes_dict,zip(self.set_update[3], set_update_4))</span>

<span class="sd">        exec_str = (&#39;%s%s%s%s%s%s%s&#39;) % (&quot;table.update(table.c.&quot;, self.set_update[1], &quot; == &#39;&quot;, self.set_update[2][0], &quot;&#39;).execute(&quot;,changes_dict ,&quot;)&quot;)</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span> <span class="o">=</span> <span class="n">table_class_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_table_str</span> <span class="o">=</span> <span class="n">id_table_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_id_list</span> <span class="o">=</span> <span class="n">value_id_list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">columns_name_list</span> <span class="o">=</span> <span class="n">columns_name_list</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">values_update_list</span> <span class="o">=</span> <span class="n">values_update_list</span>

        <span class="n">changes_dict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">u</span> <span class="o">=</span> <span class="n">Utility</span><span class="p">()</span>
        <span class="n">update_value_list</span> <span class="o">=</span> <span class="n">u</span><span class="o">.</span><span class="n">deunicode_list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">values_update_list</span><span class="p">)</span>

        <span class="n">column_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns_name_list</span><span class="p">:</span>
            <span class="n">column_str</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">table_class_str</span><span class="p">,</span> <span class="n">field</span><span class="p">)</span>
            <span class="n">column_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">column_str</span><span class="p">)</span>

        <span class="n">u</span><span class="o">.</span><span class="n">add_item_to_dict</span><span class="p">(</span><span class="n">changes_dict</span><span class="p">,</span> <span class="nb">list</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">columns_name_list</span><span class="p">,</span> <span class="n">update_value_list</span><span class="p">)))</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="c1"># session.query(SITE).filter(and_(SITE.id_sito == &#39;1&#39;)).update(values = {SITE.sito:&quot;updatetest&quot;})</span>

        <span class="n">session_exec_str</span> <span class="o">=</span> <span class="s1">&#39;session.query(</span><span class="si">%s</span><span class="s1">).filter(and_(</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1"> == </span><span class="si">%s</span><span class="s1">)).update(values = </span><span class="si">%s</span><span class="s1">)&#39;</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_table_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id_list</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">changes_dict</span><span class="p">)</span>

        
        <span class="nb">eval</span><span class="p">(</span><span class="n">session_exec_str</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></div>
    <span class="k">def</span> <span class="nf">update_find_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_class_str</span><span class="p">,</span> <span class="n">id_table_str</span><span class="p">,</span> <span class="n">value_id</span><span class="p">,</span> <span class="n">find_check_value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span> <span class="o">=</span> <span class="n">table_class_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_table_str</span> <span class="o">=</span> <span class="n">id_table_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span> <span class="o">=</span> <span class="n">value_id</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_check_value</span> <span class="o">=</span> <span class="n">find_check_value</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">session_exec_str</span> <span class="o">=</span> <span class="s1">&#39;session.query(</span><span class="si">%s</span><span class="s1">).filter(</span><span class="si">%s</span><span class="s1">.</span><span class="si">%s</span><span class="s1"> == </span><span class="si">%s</span><span class="s1">)).update(values = {&quot;find_check&quot;: </span><span class="si">%d</span><span class="s1">})&#39;</span> <span class="o">%</span> <span class="p">(</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_table_str</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_id</span><span class="p">,</span> <span class="n">find_check_value</span><span class="p">)</span>

        <span class="nb">eval</span><span class="p">(</span><span class="n">session_exec_str</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">empty_find_check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table_class_str</span><span class="p">,</span> <span class="n">find_check_value</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span> <span class="o">=</span> <span class="n">table_class_str</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">find_check_value</span> <span class="o">=</span> <span class="n">find_check_value</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">session_exec_str</span> <span class="o">=</span> <span class="s1">&#39;session.query(</span><span class="si">%s</span><span class="s1">).update(values = {&quot;find_check&quot;: </span><span class="si">%d</span><span class="s1">})&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_class_str</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

        <span class="nb">eval</span><span class="p">(</span><span class="n">session_exec_str</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">def</span> <span class="nf">delete_one_record</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tn</span><span class="p">,</span> <span class="n">id_col</span><span class="p">,</span> <span class="n">id_rec</span><span class="p">):</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">table_name</span> <span class="o">=</span> <span class="n">tn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span> <span class="o">=</span> <span class="n">id_col</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_rec</span> <span class="o">=</span> <span class="n">id_rec</span>
        <span class="c1"># self.connection()</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">exec_str</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s%s%d%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39;table.delete(table.c.&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_column</span><span class="p">,</span> <span class="s1">&#39; == &#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">id_rec</span><span class="p">,</span> <span class="s1">&#39;).execute()&#39;</span><span class="p">)</span>

        <span class="nb">eval</span><span class="p">(</span><span class="n">exec_str</span><span class="p">)</span>
        
    <span class="k">def</span> <span class="nf">max_num_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tc</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class</span> <span class="o">=</span> <span class="n">tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">field_id</span> <span class="o">=</span> <span class="n">f</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">exec_str</span> <span class="o">=</span> <span class="s2">&quot;session.query(func.max(</span><span class="si">{}</span><span class="s2">.</span><span class="si">{}</span><span class="s2">))&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_id</span><span class="p">)</span>
        <span class="n">max_id_func</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">exec_str</span><span class="p">)</span>
        <span class="n">res_all</span> <span class="o">=</span> <span class="n">max_id_func</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
        <span class="n">res_max_num_id</span> <span class="o">=</span> <span class="n">res_all</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">res_max_num_id</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">res_max_num_id</span><span class="p">)</span>
        
    <span class="c1"># def max_num_id2(self, tc, f):</span>
        <span class="c1"># self.table_class = tc</span>
        <span class="c1"># self.field_id = f</span>

        <span class="c1"># Session = sessionmaker(bind=self.engine, autoflush=True, autocommit=True)</span>
        <span class="c1"># session = Session()</span>
        <span class="c1"># exec_str = &quot;session.query(func.max({}.{}))&quot;.format(self.table_class, self.field_id)</span>
        <span class="c1"># exec_str = exec_str.on_conflict_do_nothing(index_elements=&quot;{}&quot;.format( self.field_id))</span>
        <span class="c1"># max_id_func = eval(exec_str)</span>
        <span class="c1"># res_all = max_id_func.all()</span>
        <span class="c1"># res_max_num_id = res_all[0][0]</span>
        <span class="c1"># session.close()</span>
        <span class="c1"># if not res_max_num_id:</span>
            <span class="c1"># return 0</span>
        <span class="c1"># else:</span>
            <span class="c1"># return int(res_max_num_id)</span>
    
    <span class="k">def</span> <span class="nf">dir_query</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="c1"># session.query(SITE).filter(SITE.id_sito == &#39;1&#39;).update(values = {SITE.sito:&quot;updatetest&quot;})</span>
        <span class="c1"># return session.query(SITE).filter(and_(SITE.id_sito == 1)).all()</span>
        <span class="c1"># return os.environ[&#39;HOME&#39;]</span>

        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span><span class="c1"># managements utilities</span>
        
<div class="viewcode-block" id="Pyarchinit_db_management.fields_list"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.fields_list">[documenti]</a>    <span class="k">def</span> <span class="nf">fields_list</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;return the list of columns in a table. If s is set a int,</span>
<span class="sd">        return only one column&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_name</span> <span class="o">=</span> <span class="n">t</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sing_column</span> <span class="o">=</span> <span class="n">s</span>
        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[</span><span class="n">c</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">columns</span><span class="p">][</span><span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)]</span></div>

    <span class="k">def</span> <span class="nf">query_in_idus</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">):</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">US</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">US</span><span class="o">.</span><span class="n">id_us</span><span class="o">.</span><span class="n">in_</span><span class="p">(</span><span class="n">id_list</span><span class="p">))</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">query_sort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">id_list</span><span class="p">,</span> <span class="n">op</span><span class="p">,</span> <span class="n">to</span><span class="p">,</span> <span class="n">tc</span><span class="p">,</span> <span class="n">idn</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">order_params</span> <span class="o">=</span> <span class="n">op</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">type_order</span> <span class="o">=</span> <span class="n">to</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class</span> <span class="o">=</span> <span class="n">tc</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">id_name</span> <span class="o">=</span> <span class="n">idn</span>

        <span class="n">filter_params</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_order</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_class</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_params</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">order_params</span><span class="p">[</span><span class="mi">1</span><span class="p">:]:</span>
            <span class="n">filter_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">type_order</span> <span class="o">+</span> <span class="s2">&quot;(&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">table_class</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">i</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span>

            <span class="n">filter_params</span> <span class="o">=</span> <span class="n">filter_params</span> <span class="o">+</span> <span class="s2">&quot;, &quot;</span> <span class="o">+</span> <span class="n">filter_temp</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">cmd_str</span> <span class="o">=</span> <span class="s2">&quot;session.query(</span><span class="si">{0}</span><span class="s2">).filter(</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">.in_(id_list)).order_by(</span><span class="si">{2}</span><span class="s2">).all()&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_class</span><span class="p">,</span>
                                                                                               <span class="bp">self</span><span class="o">.</span><span class="n">id_name</span><span class="p">,</span>
                                                                                               <span class="n">filter_params</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">cmd_str</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stmt</span><span class="p">):</span>
        <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
        <span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rs</span><span class="p">:</span>
            <span class="n">res_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="c1">#session.close()</span>
        <span class="k">return</span> <span class="n">res_list</span>

<div class="viewcode-block" id="Pyarchinit_db_management.update_for"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.update_for">[documenti]</a>    <span class="k">def</span> <span class="nf">update_for</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        table = Table(&#39;us_table&#39;, self.metadata, autoload=True)</span>
<span class="sd">        s = table.select(table.c.id_us &gt; 0)</span>
<span class="sd">        res_list = self.run(s)</span>
<span class="sd">        cont = 0</span>

<span class="sd">        for i in res_list:</span>
<span class="sd">            self.update(&#39;US&#39;, &#39;id_us&#39;, [i], [&#39;id_us&#39;], [cont])</span>
<span class="sd">            cont = cont+1</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">table</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="s1">&#39;inventario_materiali_table_toimp&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">metadata</span><span class="p">,</span> <span class="n">autoload</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">table</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">id_invmat</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">res_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="n">cont</span> <span class="o">=</span> <span class="mi">900</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">res_list</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;INVENTARIO_MATERIALI_TOIMP&#39;</span><span class="p">,</span> <span class="s1">&#39;id_invmat&#39;</span><span class="p">,</span> <span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;id_invmat&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">cont</span><span class="p">])</span>
            <span class="n">cont</span> <span class="o">=</span> <span class="n">cont</span> <span class="o">+</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="Pyarchinit_db_management.group_by"><a class="viewcode-back" href="../../../moduli.html#modules.db.pyarchinit_db_manager.Pyarchinit_db_management.group_by">[documenti]</a>    <span class="k">def</span> <span class="nf">group_by</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tn</span><span class="p">,</span> <span class="n">fn</span><span class="p">,</span> <span class="n">CD</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Group by the values by table name - string, field name - string, table class DB from mapper - string&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_name</span> <span class="o">=</span> <span class="n">tn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">field_name</span> <span class="o">=</span> <span class="n">fn</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">table_class</span> <span class="o">=</span> <span class="n">CD</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        <span class="n">s</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;select([</span><span class="si">{0}</span><span class="s1">.</span><span class="si">{1}</span><span class="s1">]).group_by(</span><span class="si">{0}</span><span class="s1">.</span><span class="si">{1}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">table_class</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">field_name</span><span class="p">))</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">query_where_text</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">v</span> <span class="o">=</span> <span class="n">v</span>
        <span class="c1"># self.connection()</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">string</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s%s%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39;session.query(PERIODIZZAZIONE).filter_by(&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="p">,</span> <span class="s2">&quot;=&#39;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">v</span><span class="p">,</span> <span class="s2">&quot;&#39;)&quot;</span><span class="p">)</span>

        <span class="n">res</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">update_cont_per</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sito</span> <span class="o">=</span> <span class="n">s</span>

        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">string</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;</span><span class="si">%s%s%s%s%s</span><span class="s1">&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="s1">&#39;session.query(US).filter_by(&#39;</span><span class="p">,</span> <span class="s1">&#39;sito&#39;</span><span class="p">,</span> <span class="s2">&quot;=&#39;&quot;</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">),</span> <span class="s2">&quot;&#39;)&quot;</span><span class="p">)</span>
        <span class="c1"># print string</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="n">lista_us</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">string</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">lista_us</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_finale</span> <span class="ow">and</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">:</span>
                    <span class="n">periodiz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">,</span> <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_iniziale</span><span class="p">)</span><span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">},</span>
                        <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">id_us</span><span class="p">)],</span> <span class="p">[</span><span class="s1">&#39;cont_per&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">periodiz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span><span class="p">])</span>
            
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">:</span>
                <span class="n">periodiz</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">,</span> <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_iniziale</span><span class="p">)</span><span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">},</span>
                        <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">id_us</span><span class="p">)],</span> <span class="p">[</span><span class="s1">&#39;cont_per&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">periodiz</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span><span class="p">])</span>
                <span class="k">continue</span>
            <span class="k">elif</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_finale</span> <span class="ow">and</span> <span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="n">cod_cont_iniz_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">),</span>
                         <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_iniziale</span><span class="o">+</span><span class="s1">&#39;::text&#39;</span><span class="p">)},</span> <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>
                
                    <span class="n">cod_cont_fin_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">periodo_finale</span><span class="p">),</span> <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_finale</span><span class="p">)},</span>
                        <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>

                    <span class="n">cod_cont_iniz</span> <span class="o">=</span> <span class="n">cod_cont_iniz_temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span>
                    <span class="n">cod_cont_fin</span> <span class="o">=</span> <span class="n">cod_cont_fin_temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span>

                    <span class="n">cod_cont_var_n</span> <span class="o">=</span> <span class="n">cod_cont_iniz</span>
                    <span class="n">cod_cont_var_txt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod_cont_iniz</span><span class="p">)</span>
                    <span class="k">while</span> <span class="n">cod_cont_var_n</span> <span class="o">!=</span> <span class="n">cod_cont_fin</span><span class="p">:</span>
                        <span class="n">cod_cont_var_n</span> <span class="o">+=</span> <span class="mi">1</span>

                        <span class="n">cod_cont_var_txt</span> <span class="o">=</span> <span class="n">cod_cont_var_txt</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod_cont_var_n</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">id_us</span><span class="p">)],</span> <span class="p">[</span><span class="s1">&#39;cont_per&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">cod_cont_var_txt</span><span class="p">])</span>
                <span class="k">except</span><span class="p">:</span>
                    <span class="k">pass</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">cod_cont_iniz_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">periodo_iniziale</span><span class="p">),</span>
                         <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_iniziale</span><span class="p">)},</span> <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>
                
                    <span class="n">cod_cont_fin_temp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">query_bool</span><span class="p">(</span>
                        <span class="p">{</span><span class="s1">&#39;sito&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sito</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;periodo&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">periodo_finale</span><span class="p">),</span> <span class="s1">&#39;fase&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">fase_finale</span><span class="p">)},</span>
                        <span class="s1">&#39;PERIODIZZAZIONE&#39;</span><span class="p">)</span>

                    <span class="n">cod_cont_iniz</span> <span class="o">=</span> <span class="n">cod_cont_iniz_temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span>
                    <span class="n">cod_cont_fin</span> <span class="o">=</span> <span class="n">cod_cont_fin_temp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">cont_per</span>

                    <span class="n">cod_cont_var_n</span> <span class="o">=</span> <span class="n">cod_cont_iniz</span>
                    <span class="n">cod_cont_var_txt</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod_cont_iniz</span><span class="p">)</span>
                    <span class="k">while</span> <span class="n">cod_cont_var_n</span> <span class="o">!=</span> <span class="n">cod_cont_fin</span><span class="p">:</span>
                        <span class="n">cod_cont_var_n</span> <span class="o">+=</span> <span class="mi">1</span>

                        <span class="n">cod_cont_var_txt</span> <span class="o">=</span> <span class="n">cod_cont_var_txt</span> <span class="o">+</span> <span class="s2">&quot;/&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">cod_cont_var_n</span><span class="p">)</span>

                    <span class="bp">self</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">,</span> <span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">id_us</span><span class="p">)],</span> <span class="p">[</span><span class="s1">&#39;cont_per&#39;</span><span class="p">],</span> <span class="p">[</span><span class="n">cod_cont_var_txt</span><span class="p">])</span>
                

    <span class="k">def</span> <span class="nf">remove_alltags_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">s</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;DELETE FROM media_to_entity_table WHERE media_name  = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
    
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="c1"># rows= res.fetchall()</span>
        <span class="k">return</span> <span class="n">res</span>    
    
    <span class="k">def</span> <span class="nf">remove_tags_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">s</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;DELETE FROM media_to_entity_table WHERE id_entity  = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
    
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="c1"># rows= res.fetchall()</span>
        <span class="k">return</span> <span class="n">res</span>    
    <span class="k">def</span> <span class="nf">delete_thumb_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">s</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;DELETE FROM media_thumb_table WHERE media_filename  = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">s</span><span class="p">)</span>
    
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="c1"># rows= res.fetchall()</span>
        <span class="k">return</span> <span class="n">res</span>    
    <span class="k">def</span> <span class="nf">select_medianame_from_st_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">sigla</span><span class="p">,</span><span class="n">numero</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, a.media_name FROM media_to_entity_table as a,  struttura_table as b, media_thumb_table as c WHERE b.id_struttura=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.sigla_struttura=&#39;</span><span class="si">%s</span><span class="s2">&#39; and b.numero_struttura=&#39;</span><span class="si">%s</span><span class="s2">&#39; and entity_type=&#39;STRUTTURA&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">sigla</span><span class="p">,</span><span class="n">numero</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>    
    <span class="k">def</span> <span class="nf">select_medianame_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, b.us,a.media_name FROM media_to_entity_table as a,  us_table as b, media_thumb_table as c WHERE b.id_us=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.area=&#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    <span class="k">def</span> <span class="nf">select_medianame_tb_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, a.media_name FROM media_to_entity_table as a,  tomba_table as b, media_thumb_table as c WHERE b.id_tomba=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.area=&#39;</span><span class="si">%s</span><span class="s2">&#39;and entity_type=&#39;TOMBA&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    
    <span class="k">def</span> <span class="nf">select_medianame_ra_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, a.media_name FROM media_to_entity_table as a,  inventario_materiali_table as b, media_thumb_table as c WHERE b.id_invmat=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.area=&#39;</span><span class="si">%s</span><span class="s2">&#39; and b.us = &#39;</span><span class="si">%s</span><span class="s2">&#39; and entity_type=&#39;REPERTO&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    
    <span class="k">def</span> <span class="nf">select_medianame_2_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, a.media_name FROM media_to_entity_table as a,  us_table as b, media_thumb_table as c WHERE b.id_us=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.area=&#39;</span><span class="si">%s</span><span class="s2">&#39; and b.us = &#39;</span><span class="si">%s</span><span class="s2">&#39; and entity_type=&#39;US&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    <span class="k">def</span> <span class="nf">select_ra_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT n_reperto from inventario_materiali_table WHERE sito = &#39;</span><span class="si">%s</span><span class="s2">&#39; and area = &#39;</span><span class="si">%s</span><span class="s2">&#39; and us = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    <span class="k">def</span> <span class="nf">select_coord_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT coord from pyunitastratigrafiche WHERE scavo_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; and area_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; and us_s = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    
    <span class="k">def</span> <span class="nf">select_medianame_3_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, b.us,a.media_name FROM media_to_entity_table as a,  inventario_materiali_table as b, media_thumb_table as c WHERE b.id_invmat=a.id_entity and c.id_media=a.id_media  and b.sito= &#39;</span><span class="si">%s</span><span class="s2">&#39; and b.area=&#39;</span><span class="si">%s</span><span class="s2">&#39; and us = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">)</span> 
        
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    
    <span class="k">def</span> <span class="nf">select_thumbnail_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">sito</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT c.filepath, group_concat ((select us from us_table where id_us like id_entity))as us,a.media_name,b.area,b.unita_tipo FROM  media_to_entity_table as a,  us_table as b, media_thumb_table as c WHERE b.id_us=a.id_entity and c.id_media=a.id_media and sito=&#39;</span><span class="si">%s</span><span class="s2">&#39; group by a.media_name order by a.media_name asc&quot;</span><span class="p">)</span><span class="o">%</span><span class="p">(</span><span class="n">sito</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">rows</span>
    
    <span class="k">def</span> <span class="nf">select_quote_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT * FROM pyarchinit_quote WHERE sito_q = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND area_q = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND us_q = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
        <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">us</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    <span class="k">def</span> <span class="nf">select_us_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">us</span><span class="p">,</span> <span class="n">stratigraph_index_us</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span>
                           <span class="s2">&quot;SELECT * FROM pyunitastratigrafiche WHERE scavo_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND area_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND us_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND stratigraph_index_us = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
                           <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">us</span><span class="p">,</span> <span class="n">stratigraph_index_us</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">select_us_doc_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">tipo_doc</span><span class="p">,</span> <span class="n">nome_doc</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span>
                           <span class="s2">&quot;SELECT * FROM pyunitastratigrafiche WHERE scavo_s = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND tipo_doc = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND nome_doc = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
                           <span class="n">sito</span><span class="p">,</span> <span class="n">tipo_doc</span><span class="p">,</span> <span class="n">nome_doc</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">select_usneg_doc_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">tipo_doc</span><span class="p">,</span> <span class="n">nome_doc</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span>
                           <span class="s2">&quot;SELECT * FROM pyarchinit_us_negative_doc WHERE sito_n = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND  tipo_doc_n = &#39;</span><span class="si">%s</span><span class="s2">&#39; AND nome_doc_n = &#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span>
                           <span class="n">sito</span><span class="p">,</span> <span class="n">tipo_doc</span><span class="p">,</span> <span class="n">nome_doc</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">def</span> <span class="nf">select_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT * FROM </span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="n">table</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    
    <span class="k">def</span> <span class="nf">select_db_sql_2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">,</span><span class="n">d_stratigrafica</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT * FROM us_table as a where a.sito=&#39;</span><span class="si">%s</span><span class="s2">&#39; AND a.area=&#39;</span><span class="si">%s</span><span class="s2">&#39; AND a.us=&#39;</span><span class="si">%s</span><span class="s2">&#39; AND a.d_stratigrafica=&#39;</span><span class="si">%s</span><span class="s2">&#39;&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="p">(</span><span class="n">sito</span><span class="p">,</span><span class="n">area</span><span class="p">,</span><span class="n">us</span><span class="p">,</span><span class="n">d_stratigrafica</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="n">rows</span><span class="o">=</span> <span class="n">res</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
        
        <span class="k">return</span> <span class="n">rows</span>
    
    
    <span class="k">def</span> <span class="nf">test_ut_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">unita_tipo</span><span class="p">):</span>
        <span class="n">sql_query_string</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;SELECT </span><span class="si">%s</span><span class="s2"> FROM us_table&quot;</span><span class="p">)</span><span class="o">%</span> <span class="p">(</span><span class="n">unita_tipo</span><span class="p">)</span>
        <span class="n">res</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">sql_query_string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>
    
    <span class="k">def</span> <span class="nf">query_in_contains</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value_list</span><span class="p">,</span> <span class="n">sitof</span><span class="p">,</span> <span class="n">areaf</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value_list</span> <span class="o">=</span> <span class="n">value_list</span>
       
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>

        <span class="n">res_list</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value_list</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
        <span class="c1"># QMessageBox.warning(None, &quot;Messaggio&quot;, str(n), QMessageBox.Ok)</span>
        <span class="k">while</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list</span><span class="p">:</span>
            <span class="n">chunk</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="n">n</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value_list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">value_list</span><span class="p">[</span><span class="n">n</span><span class="p">:]</span>
            <span class="n">res_list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">US</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">sito</span><span class="o">=</span><span class="n">sitof</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">areaf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">or_</span><span class="p">(</span><span class="o">*</span><span class="p">[</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">chunk</span><span class="p">])))</span>
            <span class="c1"># res_list.extend(us for us, in session.query(US.us).filter(or_(*[US.rapporti.contains(v) for v in chunk])))</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">res_list</span>

    <span class="k">def</span> <span class="nf">insert_arbitrary_number_of_us_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">us_range</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">n_us</span><span class="p">,</span> <span class="n">unita_tipo</span><span class="p">):</span>
        <span class="n">id_us</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">)</span>
        
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">us_range</span><span class="p">):</span>
            <span class="n">id_us</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="n">data_ins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_values</span><span class="p">(</span><span class="n">id_us</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">n_us</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span>
                                          <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="n">unita_tipo</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                                          <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                                           
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_data_session</span><span class="p">(</span><span class="n">data_ins</span><span class="p">)</span>
            <span class="n">n_us</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">return</span>

    
    <span class="c1"># def insert_number_of_rapp_records(self, sito, area, us, rapp_n, unita_tipo):</span>
        <span class="c1"># id_us = self.max_num_id(&#39;US&#39;, &#39;id_us&#39;)</span>
        
        <span class="c1"># l=QgsSettings().value(&quot;locale/userLocale&quot;)[0:2]</span>

        
        <span class="c1"># id_us += 1</span>

        <span class="c1"># data_ins = self.insert_values(id_us, sito, area, us, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;[]&#39;,</span>
                                      <span class="c1"># &#39;[]&#39;, </span>
                                      <span class="c1"># &#39;[[&#39;+rapp_n+&#39;]]&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;0&#39;, &#39;[]&#39;, unita_tipo, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;,</span>
                                      <span class="c1"># &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, &#39;&#39;, None, None, &#39;&#39;, &#39;[]&#39;,&#39;[]&#39;, &#39;[]&#39;, &#39;[]&#39;, &#39;[]&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,None,None,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;[]&#39;,&#39;[]&#39;,None,None,None,None,None,None,None,None,None,None,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,None,None,None,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;,&#39;&#39;)</span>
                                           
        <span class="c1"># self.insert_data_session(data_ins)</span>
        
        <span class="c1"># return</span>
    
    <span class="k">def</span> <span class="nf">insert_number_of_us_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">n_us</span><span class="p">,</span> <span class="n">unita_tipo</span><span class="p">):</span>
        <span class="n">id_us</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">(</span><span class="s1">&#39;US&#39;</span><span class="p">,</span> <span class="s1">&#39;id_us&#39;</span><span class="p">)</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;SCHEDA CREATA IN AUTOMATICO&quot;</span> 
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>

        
        <span class="n">id_us</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">data_ins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_values</span><span class="p">(</span><span class="n">id_us</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">area</span><span class="p">,</span> <span class="n">n_us</span><span class="p">,</span> <span class="n">text</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="n">unita_tipo</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
                                      <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span> <span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="s1">&#39;[]&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                                           
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_data_session</span><span class="p">(</span><span class="n">data_ins</span><span class="p">)</span>
        
        <span class="k">return</span>
    
    <span class="k">def</span> <span class="nf">insert_number_of_reperti_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">numero_invetario</span><span class="p">):</span>
        <span class="n">id_invmat</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">(</span><span class="s1">&#39;INVENTARIO_MATERIALI&#39;</span><span class="p">,</span> <span class="s1">&#39;id_invmat&#39;</span><span class="p">)</span>
        
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>

        
        <span class="n">id_invmat</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">data_ins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_values_reperti</span><span class="p">(</span><span class="n">id_invmat</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">numero_invetario</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;0&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                                           
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_data_session</span><span class="p">(</span><span class="n">data_ins</span><span class="p">)</span>
        
        
        <span class="k">return</span>
    
    
    
    
    
    <span class="k">def</span> <span class="nf">insert_number_of_tomba_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">nr_scheda_taf</span><span class="p">):</span>
        <span class="n">id_tomba</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">(</span><span class="s1">&#39;TOMBA&#39;</span><span class="p">,</span> <span class="s1">&#39;id_tomba&#39;</span><span class="p">)</span>
        
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>

        
        <span class="n">id_tomba</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">data_ins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_values_tomba</span><span class="p">(</span><span class="n">id_tomba</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">nr_scheda_taf</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
                                           
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_data_session</span><span class="p">(</span><span class="n">data_ins</span><span class="p">)</span>
        
        <span class="k">return</span>
    <span class="k">def</span> <span class="nf">insert_struttura_records</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">sigla_struttura</span><span class="p">,</span><span class="n">numero_struttura</span><span class="p">):</span>
        <span class="n">id_struttura</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_num_id</span><span class="p">(</span><span class="s1">&#39;STRUTTURA&#39;</span><span class="p">,</span> <span class="s1">&#39;id_struttura&#39;</span><span class="p">)</span>
        
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>

        
        <span class="n">id_struttura</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">data_ins</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_struttura_values</span><span class="p">(</span><span class="n">id_struttura</span><span class="p">,</span> <span class="n">sito</span><span class="p">,</span> <span class="n">sigla_struttura</span><span class="p">,</span> <span class="n">numero_struttura</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
                                           
        <span class="bp">self</span><span class="o">.</span><span class="n">insert_data_session</span><span class="p">(</span><span class="n">data_ins</span><span class="p">)</span>
        
        <span class="k">return</span>
    <span class="k">def</span> <span class="nf">select_like_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rapp_list</span><span class="p">,</span> <span class="n">us_rapp_list</span><span class="p">):</span>
        <span class="c1"># this is a test</span>
        <span class="k">pass</span>

    <span class="c1">##      self.us_rapp_list = us_rapp_list</span>
    <span class="c1">##      rapp_type = rapp_list</span>
    <span class="c1">##      query_string_base = &quot;&quot;&quot;session.query(US).filter(or_(&quot;&quot;&quot;</span>
    <span class="c1">##      query_list = []</span>
    <span class="c1">##</span>
    <span class="c1">##      #costruisce la stringa che trova i like</span>
    <span class="c1">##      for sing_us_rapp in self.us_rapp_list:</span>
    <span class="c1">##          for sing_rapp in rapp_type:</span>
    <span class="c1">##              sql_query_string = &quot;&quot;&quot;US.rapporti.contains(&quot;[u&#39;%s&#39;, u&#39;%s&#39;]&quot;)&quot;&quot;&quot; % (sing_rapp,sing_us_rapp) #funziona!!!</span>
    <span class="c1">##              query_list.append(sql_query_string)</span>
    <span class="c1">##</span>
    <span class="c1">##      string_contains = &quot;&quot;</span>
    <span class="c1">##      for sing_contains in range(len(query_list)):</span>
    <span class="c1">##          if sing_contains == 0:</span>
    <span class="c1">##              string_contains = query_list[sing_contains]</span>
    <span class="c1">##          else:</span>
    <span class="c1">##              string_contains = string_contains + &quot;,&quot; + query_list[sing_contains]</span>
    <span class="c1">##</span>
    <span class="c1">##      query_string_execute = query_string_base + string_contains + &#39;))&#39;</span>
    <span class="c1">##</span>
    <span class="c1">##      Session = sessionmaker(bind=self.engine, autoflush=True, autocommit=True)</span>
    <span class="c1">##      session = Session()</span>
    <span class="c1">##      res = eval(query_string_execute)</span>
    <span class="c1">##</span>
    <span class="c1">##      return res</span>

    <span class="k">def</span> <span class="nf">select_not_like_from_db_sql</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sitof</span><span class="p">,</span> <span class="n">areaf</span><span class="p">):</span>
        <span class="c1"># NB per funzionare con postgres √® necessario che al posto di &quot; ci sia &#39;</span>
        <span class="n">l</span><span class="o">=</span><span class="n">QgsSettings</span><span class="p">()</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s2">&quot;locale/userLocale&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
        <span class="n">Session</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span><span class="n">bind</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">,</span> <span class="n">autoflush</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">autocommit</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="p">()</span>
        
        <span class="k">if</span> <span class="n">l</span><span class="o">==</span><span class="s1">&#39;it&#39;</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">US</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">sito</span><span class="o">=</span><span class="n">sitof</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">areaf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">and_</span><span class="p">(</span><span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Copre&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Riempie&#39;%&quot;</span><span class="p">),</span>
                     <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Taglia&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Si appoggia a&#39;%&quot;</span><span class="p">)))</span>
                <span class="c1"># MyModel.query.filter(sqlalchemy.not_(Mymodel.name.contains(&#39;a_string&#39;)))</span>
        <span class="k">elif</span> <span class="n">l</span><span class="o">==</span><span class="s1">&#39;en&#39;</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">US</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">sito</span><span class="o">=</span><span class="n">sitof</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">areaf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">and_</span><span class="p">(</span><span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Cuts&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Abuts&#39;%&quot;</span><span class="p">),</span>
                     <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Covers&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Fills&#39;%&quot;</span><span class="p">)))</span>
            <span class="c1"># MyModel.query.filter(sqlalchemy.not_(Mymodel.name.contains(&#39;a_string&#39;)))</span>
        <span class="k">elif</span> <span class="n">l</span><span class="o">==</span><span class="s1">&#39;de&#39;</span><span class="p">:</span>
            <span class="n">res</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="n">US</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">sito</span><span class="o">=</span><span class="n">sitof</span><span class="p">)</span><span class="o">.</span><span class="n">filter_by</span><span class="p">(</span><span class="n">area</span><span class="o">=</span><span class="n">areaf</span><span class="p">)</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">and_</span><span class="p">(</span><span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Schneidet&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;St√ºtzt sich auf&#39;%&quot;</span><span class="p">),</span>
                     <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Liegt √ºber&#39;%&quot;</span><span class="p">),</span> <span class="o">~</span><span class="n">US</span><span class="o">.</span><span class="n">rapporti</span><span class="o">.</span><span class="n">like</span><span class="p">(</span><span class="s2">&quot;%&#39;Verf√ºllt&#39;%&quot;</span><span class="p">)))</span>
            <span class="c1"># MyModel.query.filter(sqlalchemy.not_(Mymodel.name.contains(&#39;a_string&#39;)))</span>
        <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="c1">#QMessageBox.warning(None, &quot;Messaggio&quot;, &quot;DATA LIST&quot; + str(res), QMessageBox.Ok)</span>
        <span class="k">return</span> <span class="n">res</span>
        
    <span class="k">def</span> <span class="nf">query_in_idusb</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span></div>


<span class="c1"># def main():</span>
    <span class="c1"># db = Pyarchinit_db_management(&#39;sqlite:////Users//Luca//pyarchinit_DB_folder//pyarchinit_db.sqlite&#39;)</span>
    <span class="c1"># db.connection()</span>

    <span class="c1"># db.insert_arbitrary_number_of_records(10, &#39;Giorgio&#39;, 1, 1, &#39;US&#39;)  # us_range, sito, area, n_us)</span>
    

<span class="c1"># if __name__ == &#39;__main__&#39;:</span>
    <span class="c1"># main()</span>
<span class="k">class</span> <span class="nc">ANSI</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">background</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\33</span><span class="s2">[</span><span class="si">{code}</span><span class="s2">m&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
  
    <span class="k">def</span> <span class="nf">style_text</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\33</span><span class="s2">[</span><span class="si">{code}</span><span class="s2">m&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
  
    <span class="k">def</span> <span class="nf">color_text</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\33</span><span class="s2">[</span><span class="si">{code}</span><span class="s2">m&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">code</span><span class="o">=</span><span class="n">code</span><span class="p">)</span>
  
  
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, AdArte srl.</p>
  </div>

  Realizzato con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    fornito da <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>